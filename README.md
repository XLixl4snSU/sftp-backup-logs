
## Overview

## Features
**THIS CONTAINER IS HIGHLY CUSTOMIZED FOR MY PERSONAL USE!**
But you are free to use this as you wish.

**Core-Features:**
This container will provide you with a way to review the logs that are generated by the [SFTP-Backup](https://github.com/XLixl4snSU/sftp-backup) software.
It will create a simple webserver that shows a list of all logs in your log folder and prints them out nicely formatted.
It also sends **Telegram** notifications with a bot you created to a user you can define when a backup is created and finished.

Specs:
-   Docker base image: Alpine Linux
-   Very lightweight (<10mb compressed docker image)
## Requirements, Installation and Setup
This project is the base of of Docker container. You can pull the image from DockerHub and GitHub Container Repository, but also build it locally.
### Requirements:
 - Docker installed on your host machine. See https://docs.docker.com/engine/install/ for instructions.
 - Telegram bot with the according API-Key
 - Telegram chat id that notifications are send to

### Where to get the Image
|Registry| Name |
|--|--|
|[Github Container Registry](https://github.com/XLixl4snSU/sftp-backup/pkgs/container/sftp-backup-logs)|`ghcr.io/xlixl4snsu/sftp-backup-logs`
| [Dockerhub](https://hub.docker.com/r/butti/sftp-backup-logs) | `butti/sftp-backup-logs` |

The container is build via GitHub Actions and automatically pushed to the repositories (updating the :latest tag and creating a semver tag like :1.0.1).
If you use the latest version (which is the default when pulling with no :tag) you can install updates just by pulling the image and recreating the container.

To run the container, you can use this example command:

    docker run -p 81:80 -v /path/to/logs/:/var/www/html/logs -e telegram_bot_token=ABCD1234 -e telegram_chat_id=123412 butti/sftp-backup-logs

## Environment variables, volumes and ports

|Mandatory volumes|Host path|Container path|
|--|--|--| 
|log folder|/path/to/your/logs|/var/www/html/logs|

|Mandatory ports|Host port|Container port|
|--|--|--| 
|webserver port|as you wish|80|

|Mandatory variables?|Info|
|--|--|
|telegram_bot_token|Get it from @botfather|
|telegram_chat_id|Get it from @get_id_bot|
|webserver_url|URL of your Webserver (FQDN or IP, without trailing /)